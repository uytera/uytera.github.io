{"version":3,"sources":["room_page/js/list-of-people.js"],"names":["mapOfPeopleStrings","Map","mapOfPeopleConjugations","peopleRootElement","$","document","ready","getElementsByClassName","fillMapPeople","add_elements_event_people","getElementById","addEventListener","e","massOflistPeopleItems","item","massOfPeopleElements","closest","querySelectorAll","text","set","innerHTML","fillTextFieldPeople","massPeopleOfButtons","classList","add","contains","decrementPeople","incrementPeople","remove","massOfPeopleItems","key","children","Number","parseInt","count","resultString","string","length","conjugation","get","toLowerCase","val","number","txt","cases"],"mappings":"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","file":"list-of-people.027037df.js","sourceRoot":"..\\src","sourcesContent":["//window.jQuery = window.$ = require('jquery');\r\nvar mapOfPeopleStrings = new Map();\r\n\r\nvar mapOfPeopleConjugations = new Map([\r\n    [\"ВЗРОСЛЫЕ\", [\"взрослый\", \"взрослых\", \"взрослых\"]],\r\n    [\"ДЕТИ\", [\"ребёнок\", \"ребёнка\", \"детей\"]],\r\n    [\"МЛАДЕНЦЫ\", [\"младенец\", \"младенца\", \"младенцев\"]],\r\n]);\r\n\r\nvar peopleRootElement;\r\n\r\n$(document).ready(function () {\r\n\r\n    peopleRootElement = document.getElementsByClassName(\"room-list-of-counted-people\")[0];\r\n\r\n    fillMapPeople();\r\n    add_elements_event_people();\r\n\r\n    document.getElementById(\"room-list-of-counted-people__clean-button\").addEventListener(\"click\", (e) => {\r\n        var massOflistPeopleItems = peopleRootElement.getElementsByClassName(\"list-of-counted-items__item\");\r\n\r\n        for (let item of massOflistPeopleItems) {\r\n            var massOfPeopleElements = item.closest(\".list-of-counted-items__item\").querySelectorAll('*');\r\n            $(massOfPeopleElements[2]).text(0);\r\n            mapOfPeopleStrings.set(massOfPeopleElements[0].innerHTML, $(massOfPeopleElements[2]).text());\r\n        }\r\n\r\n        fillTextFieldPeople()\r\n    })\r\n\r\n    //document.getElementById(\"list-of-counted-items__save-button\").addEventListener()\r\n});\r\n\r\nfunction add_elements_event_people(){\r\n\r\n    var massPeopleOfButtons = peopleRootElement.getElementsByClassName('button');\r\n\r\n    for (let item of massPeopleOfButtons) {\r\n        //alert(item.class);\r\n        item.addEventListener(\"mousedown\", (e) => { \r\n            item.classList.add(\"pushed-up\");\r\n            if(item.classList.contains(\"button_minus\")){\r\n                decrementPeople(item)\r\n            }\r\n            if(item.classList.contains(\"button_plus\")){\r\n                incrementPeople(item)\r\n            }\r\n        }); \r\n\r\n        item.addEventListener(\"mouseup\", (e) => {\r\n            item.classList.remove(\"pushed-up\");   \r\n        }); \r\n    }\r\n}\r\n\r\nfunction fillMapPeople(){\r\n    var massOfPeopleItems = peopleRootElement.getElementsByClassName('list-of-counted-items__item');\r\n\r\n    for (let key of massOfPeopleItems) {\r\n        mapOfPeopleStrings.set(key.children[0].innerHTML, 0);\r\n        //alert(mapOfStrings.get(key.children[0].innerHTML));\r\n    }\r\n}\r\n\r\nfunction incrementPeople(item){\r\n    var massOfPeopleItems = item.closest(\".list-of-counted-items__item\").querySelectorAll('*');\r\n    $(massOfPeopleItems[2]).text(Number.parseInt($(massOfPeopleItems[2]).text()) + 1);\r\n    mapOfPeopleStrings.set(massOfPeopleItems[0].innerHTML, $(massOfPeopleItems[2]).text());\r\n\r\n    fillTextFieldPeople()\r\n}\r\n\r\nfunction decrementPeople(item){\r\n    var massOfPeopleItems = item.closest(\".list-of-counted-items__item\").querySelectorAll('*');\r\n    var count = Number.parseInt($(massOfPeopleItems[2]).text());\r\n\r\n    if(count != 0){\r\n        $(massOfPeopleItems[2]).text(count - 1);\r\n    }\r\n    else{\r\n        $(massOfPeopleItems[2]).text(0);      \r\n    }\r\n    mapOfPeopleStrings.set(massOfPeopleItems[0].innerHTML, $(massOfPeopleItems[2]).text());\r\n\r\n    fillTextFieldPeople()\r\n}\r\n\r\nfunction fillTextFieldPeople(){\r\n    var resultString = \"\";\r\n    var count = 0;\r\n    for(let string of mapOfPeopleStrings){\r\n        if(string[1] != 0){\r\n            if(resultString.length != 0){\r\n                resultString += \", \"\r\n            }\r\n            try {\r\n                resultString += string[1] + \" \" + conjugation(string[1], mapOfPeopleConjugations.get(string[0]));\r\n            }\r\n            catch (e) {\r\n                resultString += string[1] + \" \" + string[0].toLowerCase()\r\n            }\r\n            count += Number.parseInt(string[1]);\r\n        }\r\n    }\r\n    if(count != 0){\r\n        $(\".main__price-calculator-number-of-people\").val(resultString)\r\n    }\r\n    else{\r\n        $(\".main__price-calculator-number-of-people\").val(\"\")\r\n    }\r\n}\r\n\r\nfunction conjugation(number, txt) {\r\n    var cases = [2, 0, 1, 1, 1, 2];\r\n    return txt[(number % 100 > 4 && number % 100 < 20) ? 2 : cases[(number % 10 < 5) ? number % 10 : 5]];\r\n}"]}