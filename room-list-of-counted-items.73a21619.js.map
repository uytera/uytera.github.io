{"version":3,"sources":["search_room_page/js/list-of-counted-items/room/room-list-of-counted-items.js"],"names":["roomRootElement","mapOfRoomStrings","Map","mapOfRoomConjugations","add_elements_event_room","massOfRoomButtons","getElementsByClassName","item","addEventListener","e","classList","add","contains","decrementRoom","incrementRoom","remove","fillMapRoom","massOfRoomItems","key","set","children","innerHTML","closest","querySelectorAll","$","text","Number","parseInt","fillTextFieldRoom","count","resultString","string","length","conjugation","get","toLowerCase","val","number","txt","document","ready","getElementById","massOflistRoomItems","massOfRoomElements"],"mappings":"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","file":"room-list-of-counted-items.73a21619.js","sourceRoot":"..\\src","sourcesContent":["//window.jQuery = window.$ = require('jquery');\r\nvar mapOfRoomStrings = new Map();\r\n\r\nvar mapOfRoomConjugations = new Map([\r\n    [\"СПАЛЬНИ\", [\"спальня\", \"спальни\", \"спален\"]],\r\n    [\"КРОВАТИ\", [\"кровать\", \"кровати\", \"кроватей\"]],\r\n    [\"ВАННЫЕ КОМНАТЫ\", [\"ванная комната\", \"ванных комнаты\", \"ванных комнат\"]]\r\n]);\r\n\r\nvar roomRootElement;\r\n\r\n$(document).ready(function () {\r\n\r\n    roomRootElement = document.getElementsByClassName(\"navigation-bar__room-list\")[0];\r\n\r\n    fillMapRoom();\r\n    add_elements_event_room();\r\n  \r\n    document.getElementById(\"navigation-bar__room-list__clean-button\").addEventListener(\"click\", (e) => {\r\n        var massOflistRoomItems = roomRootElement.getElementsByClassName(\"list-of-counted-items__item\");\r\n\r\n        for (let item of massOflistRoomItems) {\r\n            var massOfRoomElements = item.closest(\".list-of-counted-items__item\").querySelectorAll('*');\r\n            $(massOfRoomElements[2]).text(0);\r\n            mapOfRoomStrings.set(massOfRoomElements[0].innerHTML, $(massOfRoomElements[2]).text());\r\n        }\r\n\r\n        fillTextFieldRoom()\r\n    })\r\n\r\n    //document.getElementById(\"list-of-counted-items__save-button\").addEventListener()\r\n});\r\n\r\nfunction add_elements_event_room(){\r\n\r\n    var massOfRoomButtons = roomRootElement.getElementsByClassName('button');\r\n\r\n    for (let item of massOfRoomButtons) {\r\n        item.addEventListener(\"mousedown\", (e) => {    \r\n            item.classList.add(\"pushed-up\");\r\n            if(item.classList.contains(\"button_minus\")){\r\n                decrementRoom(item)\r\n            }\r\n            if(item.classList.contains(\"button_plus\")){\r\n                incrementRoom(item)\r\n            }\r\n        }); \r\n\r\n        item.addEventListener(\"mouseup\", (e) => {\r\n            item.classList.remove(\"pushed-up\");   \r\n        }); \r\n    }\r\n}\r\n\r\nfunction fillMapRoom(){\r\n    var massOfRoomItems = roomRootElement.getElementsByClassName('list-of-counted-items__item');\r\n\r\n    for (let key of massOfRoomItems) {\r\n        mapOfRoomStrings.set(key.children[0].innerHTML, 0);\r\n        //alert(mapOfStrings.get(key.children[0].innerHTML));\r\n    }\r\n}\r\n\r\nfunction incrementRoom(item){\r\n    var massOfRoomItems = item.closest(\".list-of-counted-items__item\").querySelectorAll('*');\r\n    $(massOfRoomItems[2]).text(Number.parseInt($(massOfRoomItems[2]).text()) + 1);\r\n    mapOfRoomStrings.set(massOfRoomItems[0].innerHTML, $(massOfRoomItems[2]).text());\r\n\r\n    fillTextFieldRoom()\r\n}\r\n\r\nfunction decrementRoom(item){\r\n    var massOfRoomItems = item.closest(\".list-of-counted-items__item\").querySelectorAll('*');\r\n    var count = Number.parseInt($(massOfRoomItems[2]).text());\r\n\r\n    if(count != 0){\r\n        $(massOfRoomItems[2]).text(count - 1);\r\n    }\r\n    else{\r\n        $(massOfRoomItems[2]).text(0);      \r\n    }\r\n    mapOfRoomStrings.set(massOfRoomItems[0].innerHTML, $(massOfRoomItems[2]).text());\r\n\r\n    fillTextFieldRoom()\r\n}\r\n\r\nfunction fillTextFieldRoom(){\r\n    var resultString = \"\";\r\n    var count = 0;\r\n    for(let string of mapOfRoomStrings){\r\n        if(string[1] != 0){\r\n            if(resultString.length != 0){\r\n                resultString += \", \"\r\n            }\r\n            try {\r\n                resultString += string[1] + \" \" + conjugation(string[1], mapOfRoomConjugations.get(string[0]));\r\n            }\r\n            catch (e) {\r\n                resultString += string[1] + \" \" + string[0].toLowerCase()\r\n            }\r\n            count += Number.parseInt(string[1]);\r\n        }\r\n    }\r\n    if(count != 0){\r\n        $(\".navigation-bar__room-input-field\").val(resultString)\r\n    }\r\n    else{\r\n        $(\".navigation-bar__room-input-field\").val(\"\")\r\n    }\r\n}\r\n\r\nfunction conjugation(number, txt) {\r\n    var cases = [2, 0, 1, 1, 1, 2];\r\n    return txt[(number % 100 > 4 && number % 100 < 20) ? 2 : cases[(number % 10 < 5) ? number % 10 : 5]];\r\n}"]}