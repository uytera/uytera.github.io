{"version":3,"sources":["ui_kit/calendar/js/calendar-main.js"],"names":["months","pushedElementsCount","startElement","document","createElement","endElement","pushedElementDate","startDate","endDate","currDate","Date","day_resize","$","height","width","css","add_elements_event","massOfDays","getElementsByClassName","pushed_day","item","addEventListener","e","classList","add","remove","getAttribute","innerHTML","startElementDate","endElementDate","setHours","fill_days_in_calendar","getMonth","getFullYear","fill_calendar","date","fill_date_in_calendar","month","year","string_month","text","startDay","lastDateOfLastMonth","modificator","lastDateOfCurrMonth","weekdayOfFirstDayOfMonth","getDay","weekdayOfLastDayOfMonth","html","getDate","getTime","setDate","ready","getElementById","setMonth","CalendarStartDate","CalendarEndDate","fillDate"],"mappings":"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","file":"calendar-main.7dfb6f54.js","sourceRoot":"..\\src","sourcesContent":["//window.jQuery = window.$ = require('jquery');\r\n\r\n//Календарь должен прогреваться, т.е. при загрузке страницы быть открытым, дальше вы можете его закрыть в конце html скриптом!!!!!!!!!!!!!!!!!!!!\r\n\r\nlet months = {     \r\n    0: \"Январь\",  \r\n    1: \"Февраль\", \r\n    2: \"Март\", \r\n    3: \"Апрель\", \r\n    4: \"Май\", \r\n    5: \"Июнь\", \r\n    6: \"Июль\", \r\n    7: \"Август\", \r\n    8: \"Сентябрь\", \r\n    9: \"Октябрь\", \r\n    10: \"Ноябрь\", \r\n    11: \"Декабрь\"    \r\n};\r\n\r\nvar pushedElementsCount = 0;\r\n\r\nvar startElement = document.createElement(\"div\");\r\nvar endElement = document.createElement(\"div\");\r\n\r\nvar pushedElementDate = \"\";\r\nvar startDate = \"\";\r\nvar endDate = \"\";\r\nvar currDate = new Date();\r\n\r\nfunction day_resize() {\r\n    $('.day').height($('.day').width());\r\n    $('.day').css('line-height', $('.day').height() + \"px\");\r\n}\r\n\r\n$(document).ready(function () {\r\n    fill_calendar(currDate);\r\n    add_elements_event();\r\n\r\n    document.getElementById('calendar-forward-btn').addEventListener(\"click\", (e) => {\r\n        currDate.setMonth(currDate.getMonth() + 1);\r\n        fill_calendar(currDate);\r\n        add_elements_event();\r\n    });\r\n    \r\n    document.getElementById('calendar-backward-btn').addEventListener(\"click\", (e) => {\r\n        currDate.setMonth(currDate.getMonth() - 1);\r\n        fill_calendar(currDate);\r\n        add_elements_event();\r\n    });\r\n\r\n    document.getElementById('calendar__clean-button').addEventListener(\"click\", (e) => {\r\n        pushedElementsCount = 0;\r\n        CalendarStartDate = startDate = \"\";\r\n        CalendarEndDate = endDate = \"\";\r\n        pushedElementDate = \"\";\r\n        fillDate();\r\n        fill_calendar(currDate);\r\n        add_elements_event();\r\n    });\r\n\r\n    document.getElementById('calendar__save-button').addEventListener(\"click\", (e) => {\r\n        CalendarStartDate = startDate;\r\n        CalendarEndDate = endDate;\r\n        fillDate();\r\n        fill_calendar(currDate);\r\n    });\r\n\r\n});\r\n\r\nfunction add_elements_event(){\r\n\r\n    var massOfDays = document.getElementsByClassName('day');\r\n    var pushed_day = document.createElement(\"div\");\r\n    for (let item of massOfDays) {\r\n        item.addEventListener(\"mouseover\", (e) => {      \r\n            item.classList.add(\"mouse-on\");\r\n        }); \r\n\r\n        item.addEventListener(\"mouseout\", (e) => {      \r\n            item.classList.remove(\"pushed-down\");\r\n            item.classList.remove(\"mouse-on\");\r\n        }); \r\n\r\n        item.addEventListener(\"mouseup\", (e) => {  \r\n            pushedElementsCount += 1;  \r\n            pushed_day.classList.remove(\"pushed-down\");\r\n            item.classList.add(\"selected-day\");\r\n            pushed_day = item;\r\n            pushedElementDate = new Date(pushed_day.getAttribute('data-year'), pushed_day.getAttribute('data-month'), pushed_day.innerHTML);\r\n\r\n            if(pushedElementsCount == 1)\r\n                startElement = pushed_day;\r\n            else{\r\n                endElement = pushed_day;\r\n            }\r\n\r\n            if(pushedElementsCount == 2){\r\n                startElementDate = new Date(startElement.getAttribute('data-year'), startElement.getAttribute('data-month'), startElement.innerHTML);\r\n                endElementDate = new Date(endElement.getAttribute('data-year'), endElement.getAttribute('data-month'), endElement.innerHTML);\r\n\r\n                if(startElementDate < endElementDate){\r\n                    startDate = startElementDate;\r\n                    endDate = endElementDate;\r\n                }\r\n                else{\r\n                    startDate = endElementDate;\r\n                    endDate = startElementDate;\r\n                }\r\n                startDate.setHours(0,0,0,0);\r\n                endDate.setHours(0,0,0,0);\r\n\r\n                fill_days_in_calendar(currDate.getMonth(), currDate.getFullYear())\r\n            }\r\n        }); \r\n\r\n        item.addEventListener(\"mousedown\", (e) => {\r\n            item.classList.remove(\"mouse-on\");   \r\n            pushed_day.classList.remove(\"pushed-up\");\r\n            pushed_day.classList.remove(\"pushed-down\");\r\n            item.classList.add(\"pushed-down\");\r\n            pushed_day=item;\r\n        }); \r\n    }\r\n} \r\n\r\n\r\n\r\nfunction fill_calendar(date){\r\n    fill_date_in_calendar(date.getMonth(), date.getFullYear());\r\n    fill_days_in_calendar(date.getMonth(), date.getFullYear());\r\n}\r\n\r\nfunction fill_date_in_calendar(month, year){\r\n    var string_month = months[month];\r\n    $('.calendar__date').text(string_month + \" \" + year)\r\n}\r\n\r\nfunction fill_days_in_calendar(month, year){\r\n    var lastDateOfLastMonth = new Date(new Date(year, month, 1) - 1);\r\n    var lastDateOfCurrMonth = new Date(new Date(year, month + 1, 1) - 1);\r\n    var weekdayOfFirstDayOfMonth = new Date(year, month, 1).getDay() == 0 ? 7 : new Date(year, month, 1).getDay();\r\n    var weekdayOfLastDayOfMonth = lastDateOfCurrMonth.getDay() == 0 ? 7 : lastDateOfCurrMonth.getDay();\r\n    var html = \"\";\r\n    \r\n    var startDay = new Date(lastDateOfLastMonth.getFullYear(), lastDateOfLastMonth.getMonth(), lastDateOfLastMonth.getDate()  - weekdayOfFirstDayOfMonth + 2);\r\n    \r\n    var modificator;\r\n    while(startDay < lastDateOfCurrMonth){\r\n        modificator = \"\";\r\n        startDay.setHours(0,0,0,0);\r\n\r\n        if(pushedElementDate != \"\" && startDay.getTime() == pushedElementDate.getTime()){\r\n            modificator = \"selected-day\";\r\n        }\r\n        if(startDate != \"\" && endDate != \"\"){ \r\n            if(startDay.getTime() == startDate.getTime()){\r\n                modificator = \"selected-day-in-period start\";\r\n            } \r\n            if(startDay.getTime() == endDate.getTime()){\r\n                modificator = \"selected-day-in-period end\";\r\n            }\r\n        }\r\n        if(startDate != \"\" && endDate != \"\" && (startDay.getTime() > startDate.getTime() && startDay.getTime() < endDate.getTime())){\r\n            modificator = \"day-in-period\";\r\n        }\r\n\r\n        if(startDay.getMonth() !=  month)\r\n            html += '<div class=\"day other-month-day ' + modificator + '\" data-year='+ startDay.getFullYear() +' data-month=' + startDay.getMonth() + '>' + startDay.getDate() + '</div>';\r\n        else\r\n            html += '<div class=\"day curr-month-day ' + modificator + '\" data-year='+ startDay.getFullYear() +' data-month=' + startDay.getMonth() + '>' + startDay.getDate() + '</div>';\r\n        startDay.setDate(startDay.getDate() + 1);\r\n    }\r\n\r\n    for(weekdayOfLastDayOfMonth; weekdayOfLastDayOfMonth < 7; weekdayOfLastDayOfMonth++){\r\n        modificator = \"\";\r\n        startDay.setHours(0,0,0,0);\r\n\r\n        if(pushedElementDate != \"\" && startDay.getTime() == pushedElementDate.getTime()){\r\n            modificator = \"selected-day\";\r\n        }\r\n        if(startDate != \"\" && endDate != \"\"){ \r\n            if(startDay.getTime() == startDate.getTime()){\r\n                modificator = \"selected-day-in-period start\";\r\n            } \r\n            if(startDay.getTime() == endDate.getTime()){\r\n                modificator = \"selected-day-in-period end\";\r\n            }\r\n        }\r\n        if(startDate != \"\" && endDate != \"\" && (startDay.getTime() > startDate.getTime() && startDay.getTime() < endDate.getTime())){\r\n            modificator = \"day-in-period\";\r\n        }\r\n\r\n        html += '<div class=\"day other-month-day ' + modificator + '\" data-year='+ startDay.getFullYear() +' data-month=' + startDay.getMonth() + '>' + startDay.getDate() + '</div>';\r\n        startDay.setDate(startDay.getDate() + 1);\r\n    }\r\n    \r\n    document.getElementsByClassName('calendar__days')[0].innerHTML = html;\r\n\r\n    day_resize();\r\n}"]}