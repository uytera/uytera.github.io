{"version":3,"sources":["search_room_page/js/list-of-counted-items/people/people-list-of-counted-items.js"],"names":["peopleRootElement","mapOfPeopleStrings","Map","mapOfPeopleConjugations","add_elements_event_people","massPeopleOfButtons","getElementsByClassName","item","addEventListener","e","classList","add","contains","decrementPeople","incrementPeople","remove","fillMapPeople","massOfPeopleItems","key","set","children","innerHTML","closest","querySelectorAll","$","text","Number","parseInt","fillTextFieldPeople","count","resultString","string","length","conjugation","get","toLowerCase","val","number","txt","document","ready","getElementById","massOflistPeopleItems","massOfPeopleElements"],"mappings":"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","file":"people-list-of-counted-items.3e3d68bd.js","sourceRoot":"..\\src","sourcesContent":["//window.jQuery = window.$ = require('jquery');\r\nvar mapOfPeopleStrings = new Map();\r\n\r\nvar mapOfPeopleConjugations = new Map([\r\n    [\"ВЗРОСЛЫЕ\", [\"взрослый\", \"взрослых\", \"взрослых\"]],\r\n    [\"ДЕТИ\", [\"ребёнок\", \"ребёнка\", \"детей\"]],\r\n    [\"МЛАДЕНЦЫ\", [\"младенец\", \"младенца\", \"младенцев\"]],\r\n]);\r\n\r\nvar peopleRootElement;\r\n\r\n$(document).ready(function () {\r\n\r\n    peopleRootElement = document.getElementsByClassName(\"navigation-bar__people-list\")[0];\r\n\r\n    fillMapPeople();\r\n    add_elements_event_people();\r\n\r\n    document.getElementById(\"navigation-bar__people-list__clean-button\").addEventListener(\"click\", (e) => {\r\n        var massOflistPeopleItems = peopleRootElement.getElementsByClassName(\"list-of-counted-items__item\");\r\n\r\n        for (let item of massOflistPeopleItems) {\r\n            var massOfPeopleElements = item.closest(\".list-of-counted-items__item\").querySelectorAll('*');\r\n            $(massOfPeopleElements[2]).text(0);\r\n            mapOfPeopleStrings.set(massOfPeopleElements[0].innerHTML, $(massOfPeopleElements[2]).text());\r\n        }\r\n\r\n        fillTextFieldPeople()\r\n    })\r\n\r\n    //document.getElementById(\"list-of-counted-items__save-button\").addEventListener()\r\n});\r\n\r\nfunction add_elements_event_people(){\r\n\r\n    var massPeopleOfButtons = peopleRootElement.getElementsByClassName('button');\r\n\r\n    for (let item of massPeopleOfButtons) {\r\n        //alert(item.class);\r\n        item.addEventListener(\"mousedown\", (e) => { \r\n            item.classList.add(\"pushed-up\");\r\n            if(item.classList.contains(\"button_minus\")){\r\n                decrementPeople(item)\r\n            }\r\n            if(item.classList.contains(\"button_plus\")){\r\n                incrementPeople(item)\r\n            }\r\n        }); \r\n\r\n        item.addEventListener(\"mouseup\", (e) => {\r\n            item.classList.remove(\"pushed-up\");   \r\n        }); \r\n    }\r\n}\r\n\r\nfunction fillMapPeople(){\r\n    var massOfPeopleItems = peopleRootElement.getElementsByClassName('list-of-counted-items__item');\r\n\r\n    for (let key of massOfPeopleItems) {\r\n        mapOfPeopleStrings.set(key.children[0].innerHTML, 0);\r\n        //alert(mapOfStrings.get(key.children[0].innerHTML));\r\n    }\r\n}\r\n\r\nfunction incrementPeople(item){\r\n    var massOfPeopleItems = item.closest(\".list-of-counted-items__item\").querySelectorAll('*');\r\n    $(massOfPeopleItems[2]).text(Number.parseInt($(massOfPeopleItems[2]).text()) + 1);\r\n    mapOfPeopleStrings.set(massOfPeopleItems[0].innerHTML, $(massOfPeopleItems[2]).text());\r\n\r\n    fillTextFieldPeople()\r\n}\r\n\r\nfunction decrementPeople(item){\r\n    var massOfPeopleItems = item.closest(\".list-of-counted-items__item\").querySelectorAll('*');\r\n    var count = Number.parseInt($(massOfPeopleItems[2]).text());\r\n\r\n    if(count != 0){\r\n        $(massOfPeopleItems[2]).text(count - 1);\r\n    }\r\n    else{\r\n        $(massOfPeopleItems[2]).text(0);      \r\n    }\r\n    mapOfPeopleStrings.set(massOfPeopleItems[0].innerHTML, $(massOfPeopleItems[2]).text());\r\n\r\n    fillTextFieldPeople()\r\n}\r\n\r\nfunction fillTextFieldPeople(){\r\n    var resultString = \"\";\r\n    var count = 0;\r\n    for(let string of mapOfPeopleStrings){\r\n        if(string[1] != 0){\r\n            if(resultString.length != 0){\r\n                resultString += \", \"\r\n            }\r\n            try {\r\n                resultString += string[1] + \" \" + conjugation(string[1], mapOfPeopleConjugations.get(string[0]));\r\n            }\r\n            catch (e) {\r\n                resultString += string[1] + \" \" + string[0].toLowerCase()\r\n            }\r\n            count += Number.parseInt(string[1]);\r\n        }\r\n    }\r\n    if(count != 0){\r\n        $(\".navigation-bar__people-input-field\").val(resultString)\r\n    }\r\n    else{\r\n        $(\".navigation-bar__people-input-field\").val(\"\")\r\n    }\r\n}\r\n\r\nfunction conjugation(number, txt) {\r\n    var cases = [2, 0, 1, 1, 1, 2];\r\n    return txt[(number % 100 > 4 && number % 100 < 20) ? 2 : cases[(number % 10 < 5) ? number % 10 : 5]];\r\n}"]}